(self.webpackChunk=self.webpackChunk||[]).push([[461],{7757:(t,e,a)=>{t.exports=a(5666)},6273:(t,e,a)=>{"use strict";a.d(e,{Z:()=>n});var r=a(1519),o=a.n(r)()((function(t){return t[1]}));o.push([t.id,"main{position:relative}.loader-container{align-items:center;display:flex;height:100%;justify-content:center;position:absolute;right:0;top:0;width:100%;z-index:1}",""]);const n=o},5666:t=>{var e=function(t){"use strict";var e,a=Object.prototype,r=a.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},n=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",i=o.toStringTag||"@@toStringTag";function l(t,e,a){return Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,a){return t[e]=a}}function c(t,e,a,r){var o=e&&e.prototype instanceof f?e:f,n=Object.create(o.prototype),s=new D(r||[]);return n._invoke=function(t,e,a){var r=u;return function(o,n){if(r===v)throw new Error("Generator is already running");if(r===m){if("throw"===o)throw n;return N()}for(a.method=o,a.arg=n;;){var s=a.delegate;if(s){var i=k(s,a);if(i){if(i===p)continue;return i}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(r===u)throw r=m,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r=v;var l=d(t,e,a);if("normal"===l.type){if(r=a.done?m:h,l.arg===p)continue;return{value:l.arg,done:a.done}}"throw"===l.type&&(r=m,a.method="throw",a.arg=l.arg)}}}(t,a,s),n}function d(t,e,a){try{return{type:"normal",arg:t.call(e,a)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var u="suspendedStart",h="suspendedYield",v="executing",m="completed",p={};function f(){}function _(){}function g(){}var b={};l(b,n,(function(){return this}));var y=Object.getPrototypeOf,C=y&&y(y(O([])));C&&C!==a&&r.call(C,n)&&(b=C);var w=g.prototype=f.prototype=Object.create(b);function x(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function a(o,n,s,i){var l=d(t[o],t,n);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==typeof u&&r.call(u,"__await")?e.resolve(u.__await).then((function(t){a("next",t,s,i)}),(function(t){a("throw",t,s,i)})):e.resolve(u).then((function(t){c.value=t,s(c)}),(function(t){return a("throw",t,s,i)}))}i(l.arg)}var o;this._invoke=function(t,r){function n(){return new e((function(e,o){a(t,r,e,o)}))}return o=o?o.then(n,n):n()}}function k(t,a){var r=t.iterator[a.method];if(r===e){if(a.delegate=null,"throw"===a.method){if(t.iterator.return&&(a.method="return",a.arg=e,k(t,a),"throw"===a.method))return p;a.method="throw",a.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var o=d(r,t.iterator,a.arg);if("throw"===o.type)return a.method="throw",a.arg=o.arg,a.delegate=null,p;var n=o.arg;return n?n.done?(a[t.resultName]=n.value,a.next=t.nextLoc,"return"!==a.method&&(a.method="next",a.arg=e),a.delegate=null,p):n:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,p)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function D(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function O(t){if(t){var a=t[n];if(a)return a.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,s=function a(){for(;++o<t.length;)if(r.call(t,o))return a.value=t[o],a.done=!1,a;return a.value=e,a.done=!0,a};return s.next=s}}return{next:N}}function N(){return{value:e,done:!0}}return _.prototype=g,l(w,"constructor",g),l(g,"constructor",_),_.displayName=l(g,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===_||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,l(t,i,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},x(E.prototype),l(E.prototype,s,(function(){return this})),t.AsyncIterator=E,t.async=function(e,a,r,o,n){void 0===n&&(n=Promise);var s=new E(c(e,a,r,o),n);return t.isGeneratorFunction(a)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},x(w),l(w,i,"Generator"),l(w,n,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var a in t)e.push(a);return e.reverse(),function a(){for(;e.length;){var r=e.pop();if(r in t)return a.value=r,a.done=!1,a}return a.done=!0,a}},t.values=O,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var a in this)"t"===a.charAt(0)&&r.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var a=this;function o(r,o){return i.type="throw",i.arg=t,a.next=r,o&&(a.method="next",a.arg=e),!!o}for(var n=this.tryEntries.length-1;n>=0;--n){var s=this.tryEntries[n],i=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var l=r.call(s,"catchLoc"),c=r.call(s,"finallyLoc");if(l&&c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function(t,e){for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var n=o;break}}n&&("break"===t||"continue"===t)&&n.tryLoc<=e&&e<=n.finallyLoc&&(n=null);var s=n?n.completion:{};return s.type=t,s.arg=e,n?(this.method="next",this.next=n.finallyLoc,p):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.finallyLoc===t)return this.complete(a.completion,a.afterLoc),A(a),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.tryLoc===t){var r=a.completion;if("throw"===r.type){var o=r.arg;A(a)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,a,r){return this.delegate={iterator:O(t),resultName:a,nextLoc:r},"next"===this.method&&(this.arg=e),p}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}},3461:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>l});var r=a(7757),o=a.n(r);function n(t,e,a,r,o,n,s){try{var i=t[n](s),l=i.value}catch(t){return void a(t)}i.done?e(l):Promise.resolve(l).then(r,o)}function s(t){return function(){var e=this,a=arguments;return new Promise((function(r,o){var s=t.apply(e,a);function i(t){n(s,r,o,i,l,"next",t)}function l(t){n(s,r,o,i,l,"throw",t)}i(void 0)}))}}const i={components:{Spinner:a(3210).Z},data:function(){var t=new Date;return t.setDate(t.getDate()+1),{item1:!0,item2:!1,user:null,isLoading:!1,schedules:[],sedes:[],programacionma:[],estacionesma:[],programacionhoy:[],estacioneshoy:[],allDay:!1,morning:!1,afternoon:!1,disabled:!1,datos:{estacionamiento_id:"",user_id:"",fecha:t,fecha_inicio:"",fecha_fin:"",hora_inicio:"",hora_fin:"",turno:"",observacion:"",created_by:""},propietario:"",numero:"",fecha:t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear(),report:{totalUsers:0,totalParkings:0,totalSchedules:0,programacionManana:0},indices:{totalHoy:0,totalManana:0,totallHoy:0,totallManana:0}}},mounted:function(){this.init()},methods:{getDataDashboard:function(){var t=arguments,e=this;return s(o().mark((function a(){var r,n;return o().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=t.length>0&&void 0!==t[0]&&t[0],n=t.length>1&&void 0!==t[1]?t[1]:e.user.sede_id,e.isLoading=!0,a.next=5,e.axios.get("/api/dashboard?user_id=".concat(e.user.id,"&filters=").concat(r,"&sede_id=").concat(n)).then((function(t){var a=t.data;console.log(t.data),e.sedes=a.sedes,e.report.totalUsers=a.total_users,e.report.totalParkings=a.total_parkings,e.report.totalSchedules=a.total_schedules,e.schedules=a.schedules,e.estacioneshoy=a.estacioneshoy,e.programacionhoy=a.programacionhoy,e.programacionma=a.programacionma,e.estacionesma=a.estacionesma,e.indices.totalHoy=Math.round(e.programacionhoy.length/(e.programacionhoy.length+e.estacioneshoy.length)*100),e.indices.totalManana=Math.round(e.programacionma.length/(e.programacionma.length+e.estacionesma.length)*100)})).catch((function(t){console.log(t.msg)})).finally((function(){e.isLoading=!1}));case 5:e.$tablaGlobal("#td-ocupadoshoy"),e.$tablaGlobal("#td-disponibleshoy"),e.$tablaGlobal("#td-ocupadosman"),e.$tablaGlobal("#td-disponiblesman");case 9:case"end":return a.stop()}}),a)})))()},init:function(){var t=this;return s(o().mark((function e(){var a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isLoading=!0,a=localStorage.getItem("access_token"),e.next=4,axios.get("api/getSession/"+a).then((function(e){t.user=e.data}));case 4:return e.next=6,t.getDataDashboard();case 6:case"end":return e.stop()}}),e)})))()},showitem:function(t){var e=document.getElementById("hoy"),a=document.getElementById("manana");1==t?(a.style.display="none",e.style.display="block"):2==t&&(a.style.display="block",e.style.display="none")},sendEmail:function(){var t=this;return s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.datos.estacionamiento_id&&t.datos.user_id&&t.datos.hora_inicio&&t.datos.hora_fin){e.next=3;break}return t.$swal.fire({icon:"error",title:"Oops...",text:"Completa los campos requeridos!"}),e.abrupt("return",!1);case 3:return e.next=5,axios.post("/api/sendProgrammingLink",{user:t.user,programacion:t.datos}).then((function(e){t.$swal.fire("Solicitud enviada","","success"),$("#modalForm").modal("hide")})).catch((function(e){t.$swal.fire({icon:"error",title:"Error de envio",text:"Ocurrio un error"})}));case 5:case"end":return e.stop()}}),e)})))()},onChange:function(t){switch(this.disabled=!1,t){case"D":this.allDay=!this.allDay,this.morning=!1,this.afternoon=!1,this.allDay&&(this.disabled=!0,this.datos.hora_inicio="07:00",this.datos.hora_fin="19:00",this.datos.turno="D");break;case"M":this.morning=!this.morning,this.allDay=!1,this.afternoon=!1,this.morning&&(this.disabled=!0,this.datos.hora_inicio="07:00",this.datos.hora_fin="13:30",this.datos.turno="M");break;case"T":this.afternoon=!this.afternoon,this.morning=!1,this.allDay=!1,this.afternoon&&(this.disabled=!0,this.datos.hora_inicio="13:31",this.datos.hora_fin="19:00",this.datos.turno="T")}},abrirModal:function(t){this.datos.estacionamiento_id=t.id,this.datos.user_id=this.user.id,this.datos.hora_inicio="",this.datos.hora_fin="",this.datos.turno="",this.propietario=t.nombre+" "+t.apellido,this.numero=t.numero,this.allDay=!1,this.morning=!1,this.afternoon=!1,$("#modalForm").modal("show")},exportExcel:function(){axios.get("/api/export").then((function(t){console.log(t)}))},cerrarModal:function(){$("#modalForm").modal("hide")},changeSede:function(t){this.getDataDashboard(!0,t.target.value)}}};const l=(0,a(1900).Z)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"page-content",attrs:{id:"js-page-content",role:"main"}},[t.isLoading?t._e():a("div",{staticClass:"content"},[t._m(0),t._v(" "),a("div",{staticClass:"row mb-4"},[t.user&&1===t.user.role_id?a("div",{staticClass:"d-flex d-flex-row my-4 outline-0 border-0 p-0"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.user.sede_id,expression:"user.sede_id"}],staticClass:"browser-default custom-select",staticStyle:{width:"200px"},attrs:{name:"sedes",id:"sedes"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.user,"sede_id",e.target.multiple?a:a[0])},t.changeSede]}},t._l(t.sedes,(function(e){return a("option",{key:e.id+e.name,domProps:{value:e.id}},[t._v(t._s(e.name))])})),0)]):t._e()]),t._v(" "),a("div",{staticClass:"row d-flex gap-4 mb-5"},[a("div",{staticClass:"bg-success-400 col-12 col-lg-3 rounded-lg p-3"},[a("h5",{staticStyle:{"font-weight":"bold"}},[t._v("Usuarios")]),t._v(" "),a("h3",[t._v(t._s(t.report.totalUsers))])]),t._v(" "),a("div",{staticClass:"bg-warning-400 col-12 col-lg-3 ronded-lg p-3"},[a("h5",{staticStyle:{"font-weight":"bold"}},[t._v("Estacionamientos")]),t._v(" "),a("h3",[t._v(t._s(t.report.totalParkings))])]),t._v(" "),a("div",{staticClass:"bg-info-400 col-12 col-lg-3 rounded-lg p-3"},[a("h5",{staticStyle:{"font-weight":"bold"}},[t._v("Programaciones")]),t._v(" "),a("h3",[t._v(t._s(t.report.totalSchedules))])])]),t._v(" "),a("div",{staticClass:"row d-flex gap-4 my-5"},[a("div",{staticClass:"col-sm-12 col-md-6 col-md-5 col-xl-5 p-0",on:{click:function(e){return t.showitem(1)}}},[a("div",{staticClass:"p-3 bg-success-200 rounded overflow-hidden position-relative text-white mb-g",staticStyle:{cursor:"pointer"}},[a("div",{staticClass:"d-flex mt-2"},[t._m(1),t._v(" "),a("span",{staticClass:"d-inline-block ml-auto"},[a("h5",[a("b",[t._v(" "+t._s(t.programacionhoy.length)+" / "+t._s(t.programacionhoy.length+t.estacioneshoy.length)+"\n                                ")])])])]),t._v(" "),a("div",{staticClass:"progress progress-sm mb-3"},[a("div",{staticClass:"progress-bar bg-fusion-400",style:{width:t.indices.totalHoy+"%"},attrs:{role:"progressbar","aria-valuenow":"65","aria-valuemin":"0","aria-valuemax":"100"}})]),t._v(" "),a("div",{staticClass:"d-flex"},[t._m(2),t._v(" "),a("span",{staticClass:"d-inline-block ml-auto"},[a("h5",[a("b",[t._v(" "+t._s(t.estacioneshoy.length)+" / "+t._s(t.programacionhoy.length+t.estacioneshoy.length)+"\n                                    ")])])])]),t._v(" "),a("div",{staticClass:"progress progress-sm mb-3"},[a("div",{staticClass:"progress-bar bg-success-500",style:{width:t.estacioneshoy.length/(t.programacionhoy.length+t.estacioneshoy.length)*100+"%"},attrs:{role:"progressbar","aria-valuenow":"34","aria-valuemin":"0","aria-valuemax":"100"}})]),t._v(" "),a("div",{staticClass:"d-flex"},[t._m(3),t._v(" "),a("span",{staticClass:"d-inline-block ml-auto"},[a("h5",[a("b",[t._v(t._s(t.indices.totalHoy)+" %")])])])]),t._v(" "),a("div",{staticClass:"progress progress-sm mb-3"},[a("div",{staticClass:"progress-bar progress-bar-striped progress-bar-animated bg-success-600",style:{width:t.indices.totalHoy+"%"},attrs:{role:"progressbar","aria-valuenow":"77","aria-valuemin":"0","aria-valuemax":"100"}})]),t._v(" "),a("i",{staticClass:"fal fa-lightbulb position-absolute pos-right pos-bottom opacity-15 mb-n5 mr-n6",staticStyle:{"font-size":"8rem"}})])]),t._v(" "),a("div",{staticClass:"col-sm-12 col-md-6 col-md-5 col-xl-5 p-0",on:{click:function(e){return t.showitem(2)}}},[a("div",{staticClass:"p-3 bg-danger-200 rounded overflow-hidden position-relative text-white mb-g",staticStyle:{cursor:"pointer"}},[a("div",{staticClass:"d-flex mt-2"},[t._m(4),t._v(" "),a("span",{staticClass:"d-inline-block ml-auto"},[a("h5",[a("b",[t._v(" "+t._s(t.programacionma.length)+" / "+t._s(t.programacionma.length+t.estacionesma.length)+" ")])])])]),t._v(" "),a("div",{staticClass:"progress progress-sm mb-3"},[a("div",{staticClass:"progress-bar bg-fusion-400",style:{width:t.indices.totalManana+"%"},attrs:{role:"progressbar","aria-valuenow":"65","aria-valuemin":"0","aria-valuemax":"100"}})]),t._v(" "),a("div",{staticClass:"d-flex"},[t._m(5),t._v(" "),a("span",{staticClass:"d-inline-block ml-auto"},[a("h5",[a("b",[t._v(" "+t._s(t.estacionesma.length)+" / "+t._s(t.programacionma.length+t.estacionesma.length)+" ")])])])]),t._v(" "),a("div",{staticClass:"progress progress-sm mb-3"},[a("div",{staticClass:"progress-bar bg-success-500",style:{width:t.estacionesma.length/(t.programacionma.length+t.estacionesma.length)*100+"%"},attrs:{role:"progressbar","aria-valuenow":"34","aria-valuemin":"0","aria-valuemax":"100"}})]),t._v(" "),a("div",{staticClass:"d-flex"},[t._m(6),t._v(" "),a("span",{staticClass:"d-inline-block ml-auto"},[a("h5",[a("b",[t._v(t._s(t.indices.totalManana)+" %")])])])]),t._v(" "),a("div",{staticClass:"progress progress-sm mb-3"},[a("div",{staticClass:"progress-bar progress-bar-striped progress-bar-animated bg-success-600",style:{width:t.indices.totalManana+"%"},attrs:{role:"progressbar","aria-valuenow":"77","aria-valuemin":"0","aria-valuemax":"100"}})]),t._v(" "),a("i",{staticClass:"fal fa-lightbulb position-absolute pos-right pos-bottom opacity-15 mb-n5 mr-n6",staticStyle:{"font-size":"8rem"}})])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12 col-md-6 col-md-2 col-xl-2",staticStyle:{display:"none"}},[a("div",{staticClass:"p-3 bg-primary-300 rounded overflow-hidden position-relative text-white mb-g",staticStyle:{"margin-bottom":"1%!important"}},[a("div",{},[a("h3",{staticClass:"display-4 d-block l-h-n m-0 fw-500"},[t._v("\n                            "+t._s(t.report.totalUsers)+"\n                            "),a("small",{staticClass:"m-0 l-h-n"},[t._v("Usuarios")])])]),t._v(" "),a("i",{staticClass:"fal fa-user position-absolute pos-right pos-bottom opacity-15 mb-n1 mr-n1",staticStyle:{"font-size":"6rem","margin-bottom":"1%!important"}})]),t._v(" "),a("div",{staticClass:"p-3 bg-warning-400 rounded overflow-hidden position-relative text-white mb-g"},[a("div",{},[a("h3",{staticClass:"display-4 d-block l-h-n m-0 fw-500"},[t._v("\n                            "+t._s(t.report.totalParkings)+"\n                            "),a("small",{staticClass:"m-0 l-h-n"},[t._v("Estacionamientos")])])]),t._v(" "),a("i",{staticClass:"fal fa-gem position-absolute pos-right pos-bottom opacity-15  mb-n1 mr-n4",staticStyle:{"font-size":"6rem"}})])])]),t._v(" "),a("div",{staticClass:"row",staticStyle:{display:"none"},attrs:{id:"hoy"}},[a("div",{staticClass:"col-lg-12 p-0"},[a("div",{staticClass:"panel",attrs:{id:"panel-4"}},[t._m(7),t._v(" "),a("div",{staticClass:"panel-container show"},[a("div",{staticClass:"panel-content"},[a("table",{staticClass:"table table-bordered table-hover table-striped w-100",attrs:{id:"td-ocupadoshoy"}},[t._m(8),t._v(" "),a("tbody",t._l(t.programacionhoy,(function(e){return a("tr",{key:e.parking.numero+e.id},[a("td",[t._v(t._s(e.parking.numero))]),t._v(" "),a("td",[t._v(t._s(e.user.nombre+" "+e.user.apellido))]),t._v(" "),a("td",[t._v(t._s(e.user.documento))]),t._v(" "),a("td",[t._v(t._s(e.fecha))]),t._v(" "),a("td",[t._v(t._s(e.hora_inicio))]),t._v(" "),a("td",[t._v(t._s(e.hora_fin))]),t._v(" "),a("td",[t._v(t._s(t.$dateFormat(e.created_at)))])])})),0)])])])])]),t._v(" "),a("div",{staticClass:"col-lg-12 p-0"},[a("div",{staticClass:"panel",attrs:{id:"panel-4"}},[t._m(9),t._v(" "),a("div",{staticClass:"panel-container show"},[a("div",{staticClass:"panel-content"},[a("table",{staticClass:"table table-bordered table-hover table-striped w-100",attrs:{id:"td-disponibleshoy"}},[t._m(10),t._v(" "),a("tbody",t._l(t.estacioneshoy,(function(e){return a("tr",{key:e.numero+e.id},[a("td",[t._v(t._s(e.numero))]),t._v(" "),a("td",[t._v(t._s(e.sede_name))]),t._v(" "),a("td",[t._v(t._s(e.sede_email))])])})),0)])])])])])]),t._v(" "),a("div",{staticClass:"row",staticStyle:{display:"none"},attrs:{id:"manana"}},[a("div",{staticClass:"col-lg-12 p-0"},[a("div",{staticClass:"panel",attrs:{id:"panel-4"}},[t._m(11),t._v(" "),a("div",{staticClass:"panel-container show"},[a("div",{staticClass:"panel-content"},[a("table",{staticClass:"table table-bordered table-hover table-striped w-100",attrs:{id:"td-ocupadosman"}},[t._m(12),t._v(" "),a("tbody",t._l(t.programacionma,(function(e){return a("tr",{key:e.parking.numero+e.id},[a("td",[t._v(t._s(e.parking.numero))]),t._v(" "),a("td",[t._v(t._s(e.user.nombre+" "+e.user.apellido))]),t._v(" "),a("td",[t._v(t._s(e.user.documento))]),t._v(" "),a("td",[t._v(t._s(e.fecha))]),t._v(" "),a("td",[t._v(t._s(e.hora_inicio))]),t._v(" "),a("td",[t._v(t._s(e.hora_fin))]),t._v(" "),a("td",[t._v(t._s(t.$dateFormat(e.created_at)))])])})),0)])])])])]),t._v(" "),a("div",{staticClass:"col-lg-12 p-0"},[a("div",{staticClass:"panel",attrs:{id:"panel-4"}},[t._m(13),t._v(" "),a("div",{staticClass:"panel-container show"},[a("div",{staticClass:"panel-content"},[a("table",{staticClass:"table table-bordered table-hover table-striped w-100",attrs:{id:"td-disponiblesman"}},[t._m(14),t._v(" "),a("tbody",t._l(t.estacionesma,(function(e){return a("tr",{key:e.numero+e.id},[a("td",[t._v(t._s(e.numero))]),t._v(" "),a("td",[t._v(t._s(e.sede_name))]),t._v(" "),a("td",[t._v(t._s(e.sede_email))]),t._v(" "),a("td",{staticStyle:{display:"none"}},[e.telefono&&9==e.telefono.length?a("a",{staticClass:"btn btn-success",attrs:{href:"https://api.whatsapp.com/send?phone=51"+e.telefono+"&text=Hola",target:"_blank"}},[a("i",{staticClass:"fa-brands fa-whatsapp",attrs:{"aria-hidden":"true"}})]):t._e()]),t._v(" "),a("td",[e.email&&e.email.includes("@")?a("button",{staticClass:"btn btn-primary",on:{click:function(a){return t.abrirModal(e)}}},[a("i",{staticClass:"fa fa-envelope",attrs:{"aria-hidden":"true"}}),t._v("\n                                                Reservar\n                                            ")]):t._e()])])})),0)])])])])])]),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"modalForm"}},[a("div",{staticClass:"modal-dialog modal-lg"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[t._m(15),t._v(" "),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:function(e){return e.preventDefault(),t.cerrarModal.apply(null,arguments)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),t._v(" "),a("form",[a("div",{staticClass:"modal-body"},[a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"Propietario"}},[t._v("Propietario:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.propietario,expression:"propietario"}],staticClass:"form-control",attrs:{type:"text",id:"Propietario",placeholder:"",required:"",disabled:!0},domProps:{value:t.propietario},on:{input:function(e){e.target.composing||(t.propietario=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"Estacionamiento"}},[t._v("Estacionamiento:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.numero,expression:"numero"}],staticClass:"form-control",attrs:{type:"text",id:"Estacionamiento",placeholder:"Ej. SOTANO 1",required:"",disabled:!0},domProps:{value:t.numero},on:{input:function(e){e.target.composing||(t.numero=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"form-row mb-5"},[a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"Fecha"}},[t._v("Fecha:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.fecha,expression:"fecha"}],staticClass:"form-control",attrs:{type:"text",id:"Fecha",placeholder:"",required:"",disabled:!0},domProps:{value:t.fecha},on:{input:function(e){e.target.composing||(t.fecha=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"form-row mb-2"},[a("div",{staticClass:"frame-wrap bg-faded col-md-12"},[a("div",{staticClass:"custom-control custom-checkbox d-inline-flex mr-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.allDay,expression:"allDay"}],staticClass:"custom-control-input",attrs:{type:"checkbox",name:"bordered",id:"option-bordered"},domProps:{checked:Array.isArray(t.allDay)?t._i(t.allDay,null)>-1:t.allDay},on:{click:function(e){return t.onChange("D")},change:function(e){var a=t.allDay,r=e.target,o=!!r.checked;if(Array.isArray(a)){var n=t._i(a,null);r.checked?n<0&&(t.allDay=a.concat([null])):n>-1&&(t.allDay=a.slice(0,n).concat(a.slice(n+1)))}else t.allDay=o}}}),t._v(" "),a("label",{staticClass:"custom-control-label",attrs:{for:"option-bordered"}},[t._v("Todo el día")])]),t._v(" "),a("div",{staticClass:"custom-control custom-checkbox d-inline-flex mr-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.morning,expression:"morning"}],staticClass:"custom-control-input",attrs:{type:"checkbox",name:"small",id:"option-small"},domProps:{checked:Array.isArray(t.morning)?t._i(t.morning,null)>-1:t.morning},on:{click:function(e){return t.onChange("M")},change:function(e){var a=t.morning,r=e.target,o=!!r.checked;if(Array.isArray(a)){var n=t._i(a,null);r.checked?n<0&&(t.morning=a.concat([null])):n>-1&&(t.morning=a.slice(0,n).concat(a.slice(n+1)))}else t.morning=o}}}),t._v(" "),a("label",{staticClass:"custom-control-label",attrs:{for:"option-small"}},[t._v("Mañana")])]),t._v(" "),a("div",{staticClass:"custom-control custom-checkbox d-inline-flex mr-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.afternoon,expression:"afternoon"}],staticClass:"custom-control-input",attrs:{type:"checkbox",name:"small",id:"option-small2"},domProps:{checked:Array.isArray(t.afternoon)?t._i(t.afternoon,null)>-1:t.afternoon},on:{click:function(e){return t.onChange("T")},change:function(e){var a=t.afternoon,r=e.target,o=!!r.checked;if(Array.isArray(a)){var n=t._i(a,null);r.checked?n<0&&(t.afternoon=a.concat([null])):n>-1&&(t.afternoon=a.slice(0,n).concat(a.slice(n+1)))}else t.afternoon=o}}}),t._v(" "),a("label",{staticClass:"custom-control-label",attrs:{for:"option-small2"}},[t._v("Tarde")])])])]),t._v(" "),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-3"},[a("label",{attrs:{for:"hora_inicio"}},[t._v("Hora Inicio:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.datos.hora_inicio,expression:"datos.hora_inicio"}],staticClass:"form-control",attrs:{type:"time",min:"06:00",max:"18:00",id:"hora_inicio",disabled:!0,placeholder:"Hora inicio"},domProps:{value:t.datos.hora_inicio},on:{input:function(e){e.target.composing||t.$set(t.datos,"hora_inicio",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group col-md-3"},[a("label",{attrs:{for:"hora_fin"}},[t._v("Hora Fin:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.datos.hora_fin,expression:"datos.hora_fin"}],staticClass:"form-control",attrs:{type:"time",min:"06:00",max:"18:00",id:"hora_fin",disabled:!0,placeholder:"Hora fin"},domProps:{value:t.datos.hora_fin},on:{input:function(e){e.target.composing||t.$set(t.datos,"hora_fin",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-danger",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return e.preventDefault(),t.cerrarModal.apply(null,arguments)}}},[t._v("Cerrar")]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.sendEmail.apply(null,arguments)}}},[t._v("Enviar")])])])])])])]),t._v(" "),t.isLoading?a("Spinner"):t._e()],1)}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"subheader"},[a("h1",{staticClass:"subheader-title"},[a("i",{staticClass:"subheader-icon fal fa-chart-area"}),t._v(" "),a("span",{staticClass:"fw-300"},[t._v("Dashboard")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h5",[a("b",[t._v("ESTACIONES OCUPADOS HOY")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h5",[a("b",[t._v("ESTACIONES DISPONIBLES HOY")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h5",[a("b",[t._v("OCUPABILIDAD HOY")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h5",[a("b",[t._v("ESTACIONES OCUPADOS MAÑANA")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h5",[a("b",[t._v("ESTACIONES DISPONIBLES MAÑANA")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h5",[a("b",[t._v("OCUPABILIDAD MAÑANA")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"panel-hdr"},[a("h2",[a("h2",{staticStyle:{"text-align":"center","font-size":"1.125rem"}},[a("b",[t._v(" ESTACIONAMIENTOS OCUPADOS HOY")])])]),t._v(" "),a("div",{staticClass:"panel-toolbar"},[a("button",{staticClass:"btn btn-panel waves-effect waves-themed",attrs:{"data-action":"panel-collapse","data-toggle":"tooltip","data-offset":"0,10","data-original-title":"Collapse"}}),t._v(" "),a("button",{staticClass:"btn btn-panel waves-effect waves-themed",attrs:{"data-action":"panel-fullscreen","data-toggle":"tooltip","data-offset":"0,10","data-original-title":"Fullscreen"}})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"bg-warning-200"},[a("tr",[a("th",[t._v("Estacionamiento")]),t._v(" "),a("th",[t._v("Usuario")]),t._v(" "),a("th",[t._v("DNI")]),t._v(" "),a("th",[t._v("Fecha Programada")]),t._v(" "),a("th",[t._v("Hora Incio")]),t._v(" "),a("th",[t._v("Hora Final")]),t._v(" "),a("th",[t._v("Fecha creación")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"panel-hdr"},[a("h2",[a("h2",{staticStyle:{"text-align":"center","font-size":"1.125rem"}},[a("b",[t._v(" ESTACIONAMIENTOS DISPONIBLES\n                                    HOY")])])]),t._v(" "),a("div",{staticClass:"panel-toolbar"},[a("button",{staticClass:"btn btn-panel waves-effect waves-themed",attrs:{"data-action":"panel-collapse","data-toggle":"tooltip","data-offset":"0,10","data-original-title":"Collapse"}}),t._v(" "),a("button",{staticClass:"btn btn-panel waves-effect waves-themed",attrs:{"data-action":"panel-fullscreen","data-toggle":"tooltip","data-offset":"0,10","data-original-title":"Fullscreen"}})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"bg-warning-200"},[a("tr",[a("th",[t._v("Número")]),t._v(" "),a("th",[t._v("Sede")]),t._v(" "),a("th",[t._v("Email")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"panel-hdr"},[a("h2",[a("h2",{staticStyle:{"text-align":"center","font-size":"1.125rem"}},[a("b",[t._v(" ESTACIONAMIENTOS OCUPADOS PARA\n                                    MAÑANA")])])]),t._v(" "),a("div",{staticClass:"panel-toolbar"},[a("button",{staticClass:"btn btn-panel waves-effect waves-themed",attrs:{"data-action":"panel-collapse","data-toggle":"tooltip","data-offset":"0,10","data-original-title":"Collapse"}}),t._v(" "),a("button",{staticClass:"btn btn-panel waves-effect waves-themed",attrs:{"data-action":"panel-fullscreen","data-toggle":"tooltip","data-offset":"0,10","data-original-title":"Fullscreen"}})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"bg-warning-200"},[a("tr",[a("th",[t._v("Estacionamiento")]),t._v(" "),a("th",[t._v("Usuario")]),t._v(" "),a("th",[t._v("DNI")]),t._v(" "),a("th",[t._v("Fecha Programada")]),t._v(" "),a("th",[t._v("Hora Incio")]),t._v(" "),a("th",[t._v("Hora Final")]),t._v(" "),a("th",[t._v("Fecha creación")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"panel-hdr"},[a("h2",[a("h2",{staticStyle:{"text-align":"center","font-size":"1.125rem"}},[a("b",[t._v(" ESTACIONAMIENTOS DISPONIBLES PARA MAÑANA")])])]),t._v(" "),a("div",{staticClass:"panel-toolbar"},[a("button",{staticClass:"btn btn-panel waves-effect waves-themed",attrs:{"data-action":"panel-collapse","data-toggle":"tooltip","data-offset":"0,10","data-original-title":"Collapse"}}),t._v(" "),a("button",{staticClass:"btn btn-panel waves-effect waves-themed",attrs:{"data-action":"panel-fullscreen","data-toggle":"tooltip","data-offset":"0,10","data-original-title":"Fullscreen"}})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"bg-warning-200"},[a("tr",[a("th",[t._v("Número")]),t._v(" "),a("th",[t._v("Sede")]),t._v(" "),a("th",[t._v("Email")]),t._v(" "),a("th")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h5",{staticClass:"modal-title"},[a("i",{staticClass:"fa fa-paper-plane"}),t._v(" Solicitud por Email")])}],!1,null,null,null).exports},3210:(t,e,a)=>{"use strict";a.d(e,{Z:()=>l});const r={data:function(){return{}}};var o=a(3379),n=a.n(o),s=a(6273),i={insert:"head",singleton:!1};n()(s.Z,i);s.Z.locals;const l=(0,a(1900).Z)(r,(function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"loader-container"},[a("div",{staticClass:"spinner-border",staticStyle:{width:"7rem",height:"7rem","border-width":"0.5rem",color:"#425777"},attrs:{role:"status"}},[a("span",{staticClass:"visually-hidden"},[t._v("Loading...")])])])}],!1,null,null,null).exports}}]);